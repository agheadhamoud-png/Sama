<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - SAMA</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>
    <header class="main-header">
        <div class="container">
            <div class="logo">
                <a href="index.html"><img src="images/logo-sama.png" alt="SAMA Auvergne" style="height: 60px;"></a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="association.html">L'Association</a></li>
                    <li><a href="formations.html">Formations</a></li>
                    <li><a href="actualites.html">Actualités</a></li>
                    <li><a href="contact.html" class="active btn btn-primary">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main id="main-content">
        <section class="container mt-4">
            <h1>Contactez-nous</h1>

            <div class="contact-grid">
                <div class="contact-info">
                    <h2>Nos Coordonnées</h2>
                    <address>
                        <strong>SAMA Auvergne</strong><br>
                        12 Rue des Hauts de Chanturgue<br>
                        63100 Clermont-Ferrand<br>
                        <br>
                        Tél : 04 73 00 00 00<br>
                        Email : contact@sama-auvergne.org
                    </address>

                    <h3 class="mt-4">Horaires d'ouverture</h3>
                    <p>Du Lundi au Vendredi : 9h00 - 17h00</p>

                    <div id="map" class="mt-4">
                        Carte Google Maps (Placeholder)
                    </div>
                </div>

                <div class="contact-form">
                    <h2>Envoyer un message</h2>
                    <div id="form-message"></div>

                    <form id="contactForm">
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="name">Nom complet</label>
                            <input type="text" id="name" name="name" required style="width: 100%; padding: 0.5rem;">
                        </div>

                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required style="width: 100%; padding: 0.5rem;">
                        </div>

                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="subject">Sujet</label>
                            <select id="subject" name="subject" style="width: 100%; padding: 0.5rem;">
                                <option value="info">Demande d'information</option>
                                <option value="inscription">Inscription formation</option>
                                <option value="benevolat">Devenir bénévole</option>
                                <option value="autre">Autre</option>
                            </select>
                        </div>

                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="message">Message</label>
                            <textarea id="message" name="message" rows="5" required
                                style="width: 100%; padding: 0.5rem;"></textarea>
                        </div>

                        <button type="submit" class="btn btn-primary">Envoyer</button>
                    </form>
                </div>
            </div>
        </section>
    </main>
    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2026 SAMA - Services Accompagnement Migrants Auvergne</p>
            <nav class="footer-nav">
                <a href="contact.html">Contact</a> |
                <a href="admin">Espace Admin (PHP)</a>
            </nav>
        </div>
    </footer>
    <script src="js/main.js"></script>
    <script>
        // Specific script for contact form
        document.getElementById('contactForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const formData = new FormData(this);

            fetch('index.php?url=api/contact', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        document.getElementById('form-message').innerHTML = '<div style="background: #d4edda; color: #155724; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">' + data.message + '</div>';
                        this.reset();
                    }
                })
                .catch(error => console.error('Error:', error));
        });

        // Populate subject if query param exists (e.g. from workshop detail)
        const urlParams = new URLSearchParams(window.location.search);
        const subjectParam = urlParams.get('subject');
        if (subjectParam) {
            const select = document.getElementById('subject');
            for (let i = 0; i < select.options.length; i++) {
                if (select.options[i].value === subjectParam) {
                    select.selectedIndex = i;
                    break;
                }
            }
        }
    </script>
</body>

</html>